window.addEventListener("DOMContentLoaded",(()=>{let e=localStorage.getItem("ctclHiddenCart");document.querySelector(".ctcl-floating-cart-item-count").textContent=null!=e?JSON.parse(e).length:"0",document.querySelector(".ctcl-floating-cart-icon").addEventListener("mouseenter",(e=>{let t=0,c=localStorage.getItem("ctclHiddenCart"),a=document.querySelector(".ctcl-floating-cart-content"),l=e.target.getBoundingClientRect();if(a.style.left=l.left-200+l.width/2+"px",null!=a.querySelector(".ctcl-floating-cart-item-list")&&a.removeChild(document.querySelector(".ctcl-floating-cart-item-list")),null!=c){a.querySelector("p").style.display="none";let e=document.createElement("div");e.classList.add("ctcl-floating-cart-item-list");let l=document.createElement("div");l.classList.add("ctcl-checkout-item-header");let d=document.createElement("span");d.className="ctcl-co-image-head",l.appendChild(d);let n=document.createElement("span");n.className="ctcl-co-name-head",n.appendChild(document.createTextNode(ctclParams.itemHead)),l.appendChild(n);let o=document.createElement("span");o.className="ctcl-co-price-head",o.appendChild(document.createTextNode(ctclParams.priceHead)),l.appendChild(o);let i=document.createElement("span");i.className="ctcl-co-qty-head",i.appendChild(document.createTextNode(ctclParams.qtyHead)),l.appendChild(i);let m=document.createElement("span");m.className="ctcl-co-item-total-head",m.appendChild(document.createTextNode(ctclParams.itemTotalHead)),l.appendChild(m),e.appendChild(l);let r=JSON.parse(c);for(let c in r){let a=parseInt(r[c].qty)*parseFloat(r[c].price);t+=a;let l=document.createElement("div");l.id=`ctcl-checkout-item-${c}`,l.classList.add("ctcl-checkout-item");let d=document.createElement("span");d.classList.add("ctcl-checkout-item-img-span");let n=new Image;n.src=r[c].pic,n.style.marginLeft="2px",d.appendChild(n),l.appendChild(d);let o=document.createElement("span");o.classList.add("ctcl-checkout-item-name"),o.appendChild(document.createTextNode(r[c].name)),l.append(o);let i=document.createElement("span");i.classList.add("ctcl-checkout-item-price"),i.appendChild(document.createTextNode(r[c].price)),l.append(i);let m=document.createElement("span");m.classList.add("ctcl-checkout-item-qty"),m.appendChild(document.createTextNode(r[c].qty)),l.append(m);let s=document.createElement("span");s.classList.add("ctcl-checkout-item-total"),s.appendChild(document.createTextNode(a.toFixed(2))),l.append(s),e.appendChild(l)}let s=document.createElement("div");s.id="ctcl-subtotal-container";let p=document.createElement("span");p.classList.add("ctcl-sub-total-label"),p.appendChild(document.createTextNode(ctclParams.subTotal+" ("+ctclParams.currency+") : ")),s.appendChild(p);let u=document.createElement("span");u.classList.add("ctcl-total-shipping-cost"),u.appendChild(document.createTextNode(parseFloat(t).toFixed(2))),u.style.marginRight="5px",s.appendChild(u),e.appendChild(s),a.appendChild(e)}else a.querySelector("p").style.display="";a.style.display=""})),document.addEventListener("addRemoveProduct",(e=>{document.querySelector(".ctcl-floating-cart-item-count").textContent=e.detail})),document.querySelector(".ctcl-floating-cart-icon").addEventListener("mouseout",(e=>{document.querySelector(".ctcl-floating-cart-content").style.display="none"}))}));